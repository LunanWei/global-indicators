###########################################################
# Study region configuration template v4.2.2 (27 June 2023)
# This configuration file uses the YAML format (https://yaml.org/) to describe the data sources, parameters and metadata used to analyse and generate urban indicator resources using the Global Healthy and Sustainable City Indicators software (https://global-healthy-liveable-cities.github.io/).
# Text begining with a hash symbol ("#") is a comment, and used to provide descriptions of how to complete the item immediately below.
###########################################################
# Full study region name, e.g. Las Palmas de Gran Canaria
name:
# Target year for analysis, e.g. 2023
year:
# Fully country name, e.g. España
country:
# Two character country code (ISO3166 Alpha-2 code), e.g. ES
country_code:
# Continent name, e.g. Europe
continent:
# coordinate reference system (CRS) metadata
crs:
    # name of the coordinate reference system (CRS), e.g. REGCAN95 / LAEA Europe
    name:
    # acronym of the standard catalogue defining this CRS, eg. EPSG
    standard:
    # spatial reference identifier (SRID) integer that identifies this CRS according to the specified standard, e.g. 5635 (see https://spatialreference.org/, or search for what is commonly used in your city or country; e.g. a national CRS like those listed at https://en.wikipedia.org/wiki/List_of_national_coordinate_reference_systems )
    srid:
# Study region boundary metadata
study_region_boundary:
    # Path to downloaded data relative to project data directory, or urban_query:variable='value')
    # e.g. to load a file (geojson, shp, geopackage):
    # "region_boundaries/Example/Las Palmas de Gran Canaria - Centro Nacional de Información Geográfica - WGS84 - EPSG4326.geojson"
    # e.g. to use the urban region and urban query specified elsewhere in this configuration file:
    # urban_query
    # e.g. to query an attribute for a specific layer in a geopackage
    # region_boundaries/your_geopackage.gpkg:layer_name -where some_attribute=="some_value" # to
    data:
    # The name of the provider of this data, e.g. Centro Nacional de Información Geográfica
    source:
    # Publication date for study region area data source, or date of currency, e.g. 2019-02-01
    publication_date:
    # URL for the source dataset, or its provider, e.g. https://datos.gob.es/en/catalogo/e00125901-spaignllm
    url:
    # Licence for the data, e.g. CC-BY-4.0
    licence:
    # Whether the provided study region boundary will be further restricted to an urban area defined by its intersection with a linked urban region dataset (see urban_region), e.g. true
    ghsl_urban_intersection: false
    # A formal citation for this data, For example, "Instituto Geográfico Nacional (2019). Base de datos de divisiones administrativas de España. https://datos.gob.es/en/catalogo/e00125901-spaignllm."
    citation:
    # Optional notes of relevance for understanding this study region's context
    notes:
# Population metadata (raster or vector)
population:
    # name of the population data
    name: "Global Human Settlements population data: 2020, Mollweide (EU JRC, 2022)"
    # path relative to project data directory to folder contining tifs, or to vector file
    data_dir: population_grids/Example/GHS_POP_E2020_GLOBE_R2022A_54009_100_V1_0_R6_C17
    # type of data (e.g. "raster:Int64" or "vector")
    data_type: raster:Int64
    ###########
    ## Vector data specific-fields; uncomment if using vector data (e.g. shp, geojson, gpkg)
    ## The column field with population estimates for your population group of interest (may be total, or for a sub-group of interest to be the focus of your indicators)
    # vector_population_data_field:
    ## The field with the total population data within that area (if you are interested in total, should be the same value as vector_population_data_field)
    # population_denominator:
    ###########
    ## Raster data specific-fields; comment out if using raster data (i.e. tif)
    # image resolution, e.g. 100 m
    resolution: 100m
    ## the image band containing the relevant data, e.g. for GHSL-POP, 1
    raster_band: 1
    ## A value in the image that represents 'no data', e.g. for GHSL-POP, -200
    raster_nodata: -200
    ###########
    # Sample points intersecting grid cells with estimated population less than this will be excluded from analysis.  If your data is low resolution (e.g. larger than 1000m), you might set this higher to exclude areas with very low population due to the uncertainty of where anyone might live in that area, or if they do at all
    pop_min_threshold: 1
    ## Coordinate reference system metadata for population data (e.g. Mollweide, ESRI, 54009)
    crs_name: Mollweide
    crs_standard: ESRI
    crs_srid: 54009
    # URL for where this data was sourced from
    source_url:
    ## metadata for citation
    # when it was published (yyyy), e.g. 2023
    year_published:
    # the year it is intended to represent (yyyy), e.g. 2020
    year_target:
    # when you retrieved it (yyyymmdd).  This can be useful to record as data can be subject to revision.  e.g. 20230627
    date_acquired:
    # licence, e.g. "CC BY 4.0"
    licence: CC BY 4.0
    # citation, e.g. "Schiavina, M; Freire, S; Carioli, A., MacManus, K (2023): GHS-POP R2023A - GHS population grid multitemporal (1975-2030). European Commission, Joint Research Centre (JRC) [Dataset] doi: 10.2905/D6D86A90-4351-4508-99C1-CB074B022C4A"
    citation:
# OpenStreetMap metadata
OpenStreetMap:
    # path relative to the project data directory
    data_dir:
    # the source of the OpenStreetMap data (e.g. Planet OSM, GeoFabrik or OpenStreetMap.fr)
    source:
    # when it was published (yyyymmdd), e.g. 20230627
    publication_date:
    # licence (which is most likely ODbL for OpenStreetMap data published since 2012)
    licence: ODbL
    # the URL from where it was downloaded
    url:
    # An optional note regarding this data
    note:
# Network analysis related configuration parameters
network:
    # If false, only retain main connected network when retrieving OSM roads, e.g. false
    osmnx_retain_all:
    # Whether to extract the network for the buffered study region. It is recommended to set to 'true' in most cases.  Setting this to false may be appropriate for true islands, but could be problematic for anywhere else where the network and associated amenities may be accessible beyond the edge of the study region boundary).
    buffered_region: true
    # Iterate over and combine polygons (this may be appropriate for a series of islands, like Hong Kong), but in most cases it is recommended to be set as false
    polygon_iteration: false
    # Minimum total network distance for subgraphs to retain (a useful parameter for islands, like Hong Kong, but for most purposes you can leave this blank).
    connection_threshold:
    # Tolerance in metres for cleaning intersections.  This is an important methodological choice, and the chosen parameter should be robust to a variety of network topologies in the city being studied.  See https://github.com/gboeing/osmnx-examples/blob/main/notebooks/04-simplify-graph-consolidate-nodes.ipynb. For example, 12
    intersection_tolerance:
    #########
    ## Optionally, data for evaluating intersections can be provided as an alternative to deriving intersections from OpenStreetMap (where available, this may be preferable); uncomment and complete the required fields to do this.
    ## Custom intersection data settings
    # intersections:
        ## path to data relative to the project data directory
        # data: network_data/your_intersection_data.geojson
        ## citation for optional custom intersection data
        # citation: 'Provider of your intersection data.  YYYY.  Name of your intersection data. https://source-url-for-your-data.place'
        ## a note to describe custom intersection data
        # note: 'Uncomment this configuration section to optionally specify an external dataset of intersections.  Otherwise, these are derived using OpenStreetMap and OSMnx using the intersection_tolerance parameter.  If providing intersection data, you can modify this note for it to be included in the metadata, or remove it.
# Urban region metadata.   An urban region can optionally be defined to supplement the study region definition, e.g. using the Global Human Settlements Layer Urban Centres Database
urban_region:
    # name for the urban region data, e.g. "Global Human Settlements urban centres: 2015 (EU JRC, 2019)"
    name:
    # path to data relative to the project data directory, e.g. "urban_regions/GHS_STAT_UCDB2015MT_GLOBE_R2019A_V1_2.gpkg"
    # Please note, this data has note been provided but can be retrieved. See the citation below.
    data_dir:
    # type of data (ie. vector)
    data_type: vector
    # coordinate reference name, e.g. WGS84
    epsg_name: WGS84
    # EPSG code for this data (eg 4326, for WGS84)
    epsg: 4326
    # licence, e.g. CC BY 4.0
    licence: CC BY 4.0
    # citation for this data, this has been pre-filled for the GHSL UCDB (2019), but change as required if using
    citation: "Florczyk, A. et al. (2019): GHS Urban Centre Database 2015, multitemporal and multidimensional attributes, R2019A. European Commission, Joint Research Centre (JRC). https://data.jrc.ec.europa.eu/dataset/53473144-b88c-44bc-b4a3-4583ed1f547e"
    # A list of additional covariates that can be optionally linked for cities included in the GHSL UCDB
    covariates:
        E_EC2E_T15:
            Units: tonnes per annum
            Unit description: tonnes per annum
            Description: Total emission of CO 2 from the transport sector, using non-short-cycle-organic fuels in 2015
        E_EC2O_T15:
            Units: tonnes per annum
            Unit description: tonnes per annum
            Description: Total emission of CO 2 from the energy sector, using short-cycle-organic fuels in 2015
        E_EPM2_T15:
            Units: tonnes per annum
            Unit description: tonnes per annum
            Description: Total emission of PM 2.5 from the transport sector in 2015
        E_CPM2_T14:
            Units: µg per cubic metre
            Unit description: micrograms per cubic meter
            Description: Total concertation of PM 2.5 for reference epoch 2014
        EL_AV_ALS:
            Units: metres above sea level
            Unit description: metres above sea level
            Description: The average elevation for the urban centre
        E_KG_NM_LST:
            Units: List of climate classes
            Unit description: List of climate classes
            Description: semi-colon separated list of names of Köppen-Geiger climate classes, intersecting with the spatial domain of the Urban Centre
        E_WR_T_14:
            Units: °C
            Unit description: Average temperature in Celsius degrees (°C)
            Description: average temperature calculated from annual average estimates for time interval centred on the year 1990 (the interval spans from 1988 to 1991) within the spatial domain of the Urban Centre
        E_WR_P_14:
            Units: mm
            Unit description: the amount of rain per square meter in one hour (mm)
            Description: average precipitations calculated from annual average estimates for time interval centred on the year 2015 (the interval spans from 2012 to 2015) within the spatial domain of the Urban Centre
# Query used to identify the specific urban region relevant for this region in the Urban Centres database
# GHS or other linkage of covariate data (GHS:variable='value', or path:variable='value' for a dataset with equivalently named fields defined in project parameters for air_pollution_covariates), e.g. GHS:UC_NM_MN=='Las Palmas de Gran Canaria' and CTR_MN_NM=='Spain'
urban_query:
# Country-level income metadata for additional city context
country_gdp:
    # Country GDP classification, e.g. lower-middle
    classification:
    # Citation for the GDP classification, e.g. The World Bank. 2020. World Bank country and lending groups. https://datahelpdesk.worldbank.org/knowledgebase/articles/906519-world-bank-country-and-lending-groups
    reference:
# additional covariates to be linked (currently this is designed to direct the process to retrieve additional city statistics from the GHSL UCDB entry for the city, where available), e.g. urban_query
covariate_data:
# Details of custom destinations to use (e.g. as done for Maiduguri, Nigeria), in addition to those from OSM (optional, as required; else, leave blank) file name (located in study region folder), category plain name field, category full name field, Y coordinate, X coordinate, EPSG number, attribution
custom_destinations:
    # name of file relative to project data directory
    file:
    # category plain name
    dest_name:
    # category full name
    dest_name_full:
    # y coordinate
    lat:
    # x coordinate
    lon:
    # EPSG code
    epsg:
    # a citation for this data
    attribution:
# Details for city specific parent folder (within GTFS data dir defined in config.yml) and feed-specific unzipped sub-folders containing GTFS feed data.  For each feed, the data provider, year, start and end dates to use, and mapping of modes are specified (only required if feed does not conform to the GTFS specification https://developers.google.com/transit/gtfs/reference). For cities with no GTFS feeds identified, this may be left blank.  Otherwise, copy the example in the example_ES_Las_Palmas_2023.yml file or other example files where multiple GTFS feeds for different modes have been defined to get started and customise this for your city.
gtfs_feeds:
# Optional path to results of policy indicator review for inclusion in generated reports
policy_review:
# Optional additional notes for this region
notes:
# Reporting configuration
reporting:
    # Set 'publication_ready' to True once you have checked results, updated the summary and are ready to publish; before then, it should be False.
    publication_ready: False
    # Once ready for publication it is recommended to register a DOI for your report, e.g. through figshare, zenodo or other repository
    doi:
    images:
        # Store images in the process/configuration/assets folder.
        # Update file name, description and credit as required.
        1:
            file: Example image of a vibrant, walkable, urban neighbourhood - landscape.jpg
            description: Example image of a vibrant, walkable, urban neighbourhood with diverse people using active modes of transport and a tram (replace with a photograph, customised in region configuration)
            credit: Carl Higgs, Bing Image Creator, 2023
        2:
            file: Example image of a vibrant, walkable, urban neighbourhood - square.jpg
            description: Example image of a vibrant, walkable, urban neighbourhood with diverse people using active modes of transport and a tram (replace with a photograph, customised in region configuration)
            credit: Carl Higgs, Bing Image Creator, 2023
    # Languages configuration
    languages:
        # Add a list of languages as required.  Languages listed should correspond to columns in the _report_configuration.xlsx file 'languages' worksheet.  New languages can be added, although some may require additional fonts.  Some languages may not be supported (eg. complex scripts like Tamil and Thai may not be supported by the report template and require manual edits).
        English:
            # City name in English, for example: Las Palmas
            name:
            # Country name in English, for example: Spain
            country:
            # After reviewing the results, update this summary text to contextualise your findings, and relate to external text and documents (e.g. using website hyperlinks).  This text will be used in the report summary.
            summary:
    ## Optionally, exceptions to the template can be specified here, this can be useful for additional translation customisation without modifying the report_configuration.xlsx file.  These phrases can incorporate translated phrases defined in report configuration, by enclosing these in curly braces, e.g. like {this}, if 'this' has been defined as a phrase in the relevant language.  See the example region for a demonstration of how this can be used.  Sections from the example can be pasted here and modified as required, or the below example can be uncommented.
    # exceptions:
        # "English":
            # 'local_collaborators_names': 'Add your names here, or modify authors in config.yml and remove this line'
        # "Another configured language":
            # 'local_collaborators_names': 'Agregue sus nombres aquí, o modifique los autores en config.yml y elimine esta línea'
            # 'citation_doi': '{local_collaborators_names}. 2022. {title_city} — {title_series_line1} {title_series_line2} ({city}, {country} — Healthy and Sustainable City Indicators Report. Traducción al español (España): {translation_names}). {city_doi}'
